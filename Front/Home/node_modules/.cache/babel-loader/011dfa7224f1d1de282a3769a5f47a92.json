{"ast":null,"code":"var _jsxFileName = \"/home/arsalan/Desktop/Front/Home/src/components/Navbar/NavBtnTokenLinker.js\";\nimport React from 'react';\nimport { NavBtn, NavBtnLink, PairedButtonBox } from './NavbarElements';\nimport { apiBaseURL, dashboardURL, signInURL, signUpURL } from '../../IPAddresses/IPaddresses';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction NavBtnTokenLinker() {\n  function getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(';');\n\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n\n      while (c.charAt(0) == ' ') c = c.substring(1, c.length);\n\n      if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);\n    }\n\n    return null;\n  }\n\n  function checkToken() {\n    var token = getCookie(\"token\");\n    console.log(token);\n\n    if (token == null) {\n      return;\n    }\n\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    myHeaders.append('Authorization', 'Barear ' + token);\n    var requestOptions = {\n      method: 'GET',\n      headers: myHeaders,\n      redirect: 'follow'\n    };\n    var status;\n    fetch(apiBaseURL + 'getProfile', requestOptions).then(response => {\n      status = response.statusText;\n      console.log(response);\n      console.log(status);\n      return response;\n    }).then(response => response.json()).then(result => {\n      console.log(status);\n      console.log(result);\n\n      if (status == \"OK\") {\n        document.getElementById(\"button-login\").style.display = \"none\";\n        document.getElementById(\"button-signup\").style.display = \"none\";\n        document.getElementById(\"button-name\").innerHTML = result.username;\n        document.getElementById(\"button-name\").style.display = \"flex\";\n        return;\n      }\n\n      console.log(result.message);\n      return;\n    }).catch(error => console.log('error', error));\n  }\n\n  checkToken();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(PairedButtonBox, {\n      children: [/*#__PURE__*/_jsxDEV(NavBtn, {\n        children: /*#__PURE__*/_jsxDEV(NavBtnLink, {\n          id: \"button-login\",\n          to: {\n            pathname: signInURL\n          },\n          target: \"_blank\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(NavBtn, {\n        children: /*#__PURE__*/_jsxDEV(NavBtnLink, {\n          id: \"button-signup\",\n          to: {\n            pathname: signUpURL\n          },\n          target: \"_blank\",\n          children: \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(NavBtn, {\n        children: /*#__PURE__*/_jsxDEV(NavBtnLink, {\n          id: \"button-name\",\n          to: {\n            pathname: dashboardURL\n          },\n          target: \"_blank\",\n          style: {\n            display: 'none'\n          },\n          children: \"Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_c = NavBtnTokenLinker;\nexport default NavBtnTokenLinker;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavBtnTokenLinker\");","map":{"version":3,"sources":["/home/arsalan/Desktop/Front/Home/src/components/Navbar/NavBtnTokenLinker.js"],"names":["React","NavBtn","NavBtnLink","PairedButtonBox","apiBaseURL","dashboardURL","signInURL","signUpURL","NavBtnTokenLinker","getCookie","name","nameEQ","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","checkToken","token","console","log","myHeaders","Headers","append","requestOptions","method","headers","redirect","status","fetch","then","response","statusText","json","result","getElementById","style","display","innerHTML","username","message","catch","error","pathname"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  NavBtn,\n  NavBtnLink,\n  PairedButtonBox\n} from './NavbarElements';\n\nimport {\n    apiBaseURL,\n    dashboardURL,\n    signInURL,\n    signUpURL\n} from '../../IPAddresses/IPaddresses';\n\nfunction NavBtnTokenLinker() {\n\n    function getCookie(name) {\n        var nameEQ = name + \"=\";\n        var ca = document.cookie.split(';');\n        for(var i=0;i < ca.length;i++) {\n            var c = ca[i];\n            while (c.charAt(0)==' ') c = c.substring(1,c.length);\n            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);\n        }\n        return null;\n    }\n      \n    function checkToken () {\n    \n        var token = getCookie(\"token\");\n        console.log(token);\n        \n        if(token == null) {\n            return;\n        }\n        \n        var myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        myHeaders.append('Authorization', 'Barear ' +token);\n\n        var requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n        };\n        \n        var status;\n        fetch(apiBaseURL + 'getProfile', requestOptions)\n        .then(response => {\n            status = response.statusText;\n            console.log(response);\n            console.log(status);\n            return response;\n            })  \n        \n        .then(response => response.json())\n        .then( result => {\n            console.log(status);\n            console.log(result);\n            \n        \n            if(status == \"OK\") {\n                document.getElementById(\"button-login\").style.display = \"none\";\n                document.getElementById(\"button-signup\").style.display = \"none\";\n        \n                document.getElementById(\"button-name\").innerHTML = result.username;\n                document.getElementById(\"button-name\").style.display = \"flex\";\n                return;\n            }\n        \n            console.log(result.message);\n            return;\n        \n        })\n        .catch(error => console.log('error', error));\n    }\n    \n    checkToken();\n    return (\n    <>\n        <PairedButtonBox>\n            <NavBtn>\n                <NavBtnLink id={\"button-login\"} to={{pathname : signInURL}} target=\"_blank\">Sign In</NavBtnLink>\n            </NavBtn>\n            <NavBtn>\n                <NavBtnLink id={\"button-signup\"} to={{pathname : signUpURL}} target=\"_blank\">Sign Up</NavBtnLink>\n            </NavBtn>\n            <NavBtn>\n                <NavBtnLink id={\"button-name\"} to={{pathname : dashboardURL}} target=\"_blank\" style={{display: 'none'}} >Guest</NavBtnLink>\n            </NavBtn>\n        </PairedButtonBox>\n    </>\n    );\n}\n\nexport default NavBtnTokenLinker;"]},"metadata":{},"sourceType":"module"}