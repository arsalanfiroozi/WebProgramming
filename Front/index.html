<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <title>
            The first homework
        </title>
        <style>
            body{
                background-image: url('cool-background.png');
                background-position: center center;
                background-repeat: no-repeat;
                -webkit-background-size: cover;
                -moz-background-size: cover;
                -o-background-size: cover;
                background-attachment:fixed;
                background-size: cover;
            }
            fieldset{
                max-width: 40%;
                min-width: 30%;
                padding: 2%;
                margin-top: 3%;
                border-radius: 5px;
                background-color: #ffffff90;
            }
            fieldset legend{
                position: relative;
                top: -10px;
                color: white;
                font-size: larger;
                font-style: bold;
            }
            fieldset input[type=text]{
                width: 94%;
                padding: 3%;
                border-radius: 4px;
                border-width: 1px;
                border-color:rgb(102, 102, 102);
                background-color: #ffffffff;
                color: black;
            }
            fieldset input[type=radio]{
                margin-top: 4%;
            }
            fieldset input[type=button]{
                display: block;
                width: 50%;
                margin-top: 10px;
                text-align: center;
                position: relative;
                margin-left: auto;
                margin-right: auto;
                padding: 3%;
                border-radius: 4px;
                border:none;
                background-color: rgb(102, 102, 102);
                color: white;
            }
            .Group{
                display: flex;
                justify-content: center;
            }
            textarea{
                width: 90%;
                display: block;
                margin: auto;
                padding: 3%;
                margin-top: 2%;
            }
        </style>
        <script>
            function handleserver(typestr){
                if(typestr == 'node'){
                    var Port = 3000;
                    var input = document.getElementById("nodeinput").value 
                    var input2 = document.querySelector('input[name="noderadio"]:checked').value == "Encode"
                } else {
                    var Port = 9090;
                    var input = document.getElementById("goinput").value 
                    var input2 = document.querySelector('input[name="goradio"]:checked').value == "Encode"
                }
                if(input2){
                    var Method = 'Post'
                } else {
                    var Method = 'Get'
                }
                if(input.length >= 8) {
                    $.ajax({
                        url: 'http://localhost/'+typestr,            
                        method: Method,
                        type: 'Json',
                        crossDomain: true,
                        headers: {  'Access-Control-Allow-Origin': '*' },
                        data: {
                            Input1: input
                            },
                        success: function (req) {
                            //alert("Data: " + req.response);
                            document.getElementById(typestr+'stat').innerHTML = req.response;
                        },
                        error: function (error) {
                            console.log(error);
                        }
                    });
                } else {
                    //alert('Theres is not enough characters.');
                    document.getElementById(typestr+'stat').innerHTML = 'Theres is not enough characters.'
                }
            }
        </script>
    </head>
    <body>
        <div class="Group">
            <fieldset>
                <legend>NodeJS Sha256</legend>
                <form method = "post"> 
                    <input type = "text" id = "nodeinput" name = "Input1" placeholder = "String" minlength="8" required> 
                    <br>
                    <input type="radio" name="noderadio" id = "noderadio" value="Encode" checked /> Encode 
                    <input type="radio" name="noderadio" id = "noderadio" value="Decode" /> Decode
                    <input type = "button" Onclick = "handleserver('node')" value = "Submit"> 
                    <textarea id="nodestat" disabled> </textarea>
                </form>
            </fieldset>
            <fieldset>
                <legend>GoLang Sha256</legend>
                <form method = "post"> 
                    <input type = "text" name = "Input1" id = "goinput" placeholder = "String" minlength="8" required> 
                    <br>
                    <input type="radio" name="goradio" value="Encode" checked /> Encode
                    <input type="radio" name="goradio" value="Decode" /> Decode
                    <input type = "button" Onclick = "handleserver('go')" value = "Submit"> 
                    <textarea id="gostat" disabled></textarea>
                </form>
            </fieldset>
        </div>
    </body>
</html>